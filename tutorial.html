<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8" /><title></title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="F#+ is a base library for F#." /><meta name="author" content="Gusty" /><script src="https://code.jquery.com/jquery-1.8.0.js"></script><script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script><script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script><link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet" /><link type="text/css" rel="stylesheet" href="./content/style.css" /><script type="text/javascript" src="./content/tips.js"></script></head><body><div class="container"><div class="masthead"><ul class="nav nav-pills pull-right"><li><a href="http://fsharp.org">fsharp.org</a></li><li><a href="https://github.com/fsprojects/FSharpPlus">github page</a></li></ul><h3 class="muted"><a href="./index.html">FSharpPlus</a></h3></div><hr /><div class="row"><div class="span9" id="main"><h1><a name="Introducing-FSharpPlus" class="anchor" href="#Introducing-FSharpPlus">Introducing FSharpPlus</a></h1>
<ul>
<li><p>Download binaries from <a href="https://www.nuget.org/packages/FSharpPlus/">Nuget</a>, use the latest CI version.</p></li>
<li>Open an F# script file or the F# interactive, reference the library and open the namespace</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">@&quot;../../src/FSharpPlus/bin/Release/net45/FSharpPlus.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, '1', 1)" onmouseover="showTip(event, '1', 1)" class="id">FSharpPlus</span>
</code></pre></td>
</tr>
</table>
<p>Ignore warnings about F# metadata if any.</p>
<p>Now we'll start with a quick overview of the features presented in F#+.</p>
<h3><a name="Generic-functions" class="anchor" href="#Generic-functions">Generic functions</a></h3>
<p>They are automatically available when opening the FSharpPlus namespace</p>
<p>here's an example with <code>map</code> (<a href="https://wiki.haskell.org/Functor">fmap</a> for Haskellers, <a href="http://www.dotnetperls.com/select">Select</a> for C-sharpers):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, '2', 2)" onmouseover="showTip(event, '2', 2)" class="fn">map</span> <span onmouseout="hideTip(event, '3', 3)" onmouseover="showTip(event, '3', 3)" class="fn">string</span> <span class="pn">[|</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">;</span><span class="n">4</span><span class="pn">;</span><span class="n">5</span><span class="pn">|]</span>
<span class="c">// val it : string [] = [|&quot;2&quot;; &quot;3&quot;; &quot;4&quot;; &quot;5&quot;|]</span>

<span onmouseout="hideTip(event, '2', 4)" onmouseover="showTip(event, '2', 4)" class="fn">map</span> <span class="pn">(</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="n">9</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, '4', 5)" onmouseover="showTip(event, '4', 5)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>
<span class="c">// val it : int option = Some 12</span>

<span class="k">open</span> <span onmouseout="hideTip(event, '1', 6)" onmouseover="showTip(event, '1', 6)" class="id">FSharpPlus</span><span class="pn">.</span><span onmouseout="hideTip(event, '5', 7)" onmouseover="showTip(event, '5', 7)" class="id">Data</span>

<span onmouseout="hideTip(event, '2', 8)" onmouseover="showTip(event, '2', 8)" class="fn">map</span> <span onmouseout="hideTip(event, '3', 9)" onmouseover="showTip(event, '3', 9)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, '6', 10)" onmouseover="showTip(event, '6', 10)" class="m">NonEmptyList</span><span class="pn">.</span><span onmouseout="hideTip(event, '7', 11)" onmouseover="showTip(event, '7', 11)" class="id">create</span> <span class="n">2</span> <span class="pn">[</span><span class="n">3</span><span class="pn">;</span><span class="n">4</span><span class="pn">;</span><span class="n">5</span><span class="pn">]</span><span class="pn">)</span>
<span class="c">// val it : NonEmptyList&lt;string&gt; = {Head = &quot;2&quot;; Tail = [&quot;3&quot;; &quot;4&quot;; &quot;5&quot;];}</span>
</code></pre></td>
</tr>
</table>
<p>They're also available for your own types as long as they contain the appropriated method with the expected signature</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">t</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, '8', 12)" onmouseover="showTip(event, '8', 12)" class="uc">Tree</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">t</span> <span class="pn">*</span> <span onmouseout="hideTip(event, '8', 13)" onmouseover="showTip(event, '8', 13)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">t</span><span class="pn">&gt;</span> <span class="pn">*</span> <span onmouseout="hideTip(event, '8', 14)" onmouseover="showTip(event, '8', 14)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">t</span><span class="pn">&gt;</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, '9', 15)" onmouseover="showTip(event, '9', 15)" class="uc">Leaf</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">t</span>
    <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, '10', 16)" onmouseover="showTip(event, '10', 16)" class="fn">Map</span> <span class="pn">(</span><span onmouseout="hideTip(event, '11', 17)" onmouseover="showTip(event, '11', 17)" class="id">x</span><span class="pn">:</span><span onmouseout="hideTip(event, '8', 18)" onmouseover="showTip(event, '8', 18)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span><span class="pn">,</span> <span onmouseout="hideTip(event, '12', 19)" onmouseover="showTip(event, '12', 19)" class="fn">f</span><span class="pn">)</span> <span class="o">=</span> 
        <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, '13', 20)" onmouseover="showTip(event, '13', 20)" class="fn">loop</span> <span onmouseout="hideTip(event, '14', 21)" onmouseover="showTip(event, '14', 21)" class="fn">f</span> <span class="o">=</span> <span class="k">function</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, '9', 22)" onmouseover="showTip(event, '9', 22)" class="uc">Leaf</span> <span onmouseout="hideTip(event, '15', 23)" onmouseover="showTip(event, '15', 23)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '9', 24)" onmouseover="showTip(event, '9', 24)" class="uc">Leaf</span> <span class="pn">(</span><span onmouseout="hideTip(event, '14', 25)" onmouseover="showTip(event, '14', 25)" class="fn">f</span> <span onmouseout="hideTip(event, '15', 26)" onmouseover="showTip(event, '15', 26)" class="id">x</span><span class="pn">)</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, '8', 27)" onmouseover="showTip(event, '8', 27)" class="uc">Tree</span> <span class="pn">(</span><span onmouseout="hideTip(event, '15', 28)" onmouseover="showTip(event, '15', 28)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, '16', 29)" onmouseover="showTip(event, '16', 29)" class="id">t1</span><span class="pn">,</span> <span onmouseout="hideTip(event, '17', 30)" onmouseover="showTip(event, '17', 30)" class="id">t2</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '8', 31)" onmouseover="showTip(event, '8', 31)" class="uc">Tree</span> <span class="pn">(</span><span onmouseout="hideTip(event, '14', 32)" onmouseover="showTip(event, '14', 32)" class="fn">f</span> <span onmouseout="hideTip(event, '15', 33)" onmouseover="showTip(event, '15', 33)" class="id">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, '13', 34)" onmouseover="showTip(event, '13', 34)" class="fn">loop</span> <span onmouseout="hideTip(event, '14', 35)" onmouseover="showTip(event, '14', 35)" class="fn">f</span> <span onmouseout="hideTip(event, '16', 36)" onmouseover="showTip(event, '16', 36)" class="id">t1</span><span class="pn">,</span> <span onmouseout="hideTip(event, '13', 37)" onmouseover="showTip(event, '13', 37)" class="fn">loop</span> <span onmouseout="hideTip(event, '14', 38)" onmouseover="showTip(event, '14', 38)" class="fn">f</span> <span onmouseout="hideTip(event, '17', 39)" onmouseover="showTip(event, '17', 39)" class="id">t2</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, '13', 40)" onmouseover="showTip(event, '13', 40)" class="fn">loop</span> <span onmouseout="hideTip(event, '12', 41)" onmouseover="showTip(event, '12', 41)" class="fn">f</span> <span onmouseout="hideTip(event, '11', 42)" onmouseover="showTip(event, '11', 42)" class="id">x</span>

<span onmouseout="hideTip(event, '2', 43)" onmouseover="showTip(event, '2', 43)" class="fn">map</span> <span class="pn">(</span><span class="o">(*)</span> <span class="n">10</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, '8', 44)" onmouseover="showTip(event, '8', 44)" class="uc">Tree</span><span class="pn">(</span><span class="n">6</span><span class="pn">,</span> <span onmouseout="hideTip(event, '8', 45)" onmouseover="showTip(event, '8', 45)" class="uc">Tree</span><span class="pn">(</span><span class="n">2</span><span class="pn">,</span> <span onmouseout="hideTip(event, '9', 46)" onmouseover="showTip(event, '9', 46)" class="uc">Leaf</span> <span class="n">1</span><span class="pn">,</span> <span onmouseout="hideTip(event, '9', 47)" onmouseover="showTip(event, '9', 47)" class="uc">Leaf</span> <span class="n">3</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, '9', 48)" onmouseover="showTip(event, '9', 48)" class="uc">Leaf</span> <span class="n">9</span><span class="pn">)</span><span class="pn">)</span>
<span class="c">// val it : Tree&lt;int&gt; = Tree (60,Tree (20,Leaf 10,Leaf 30),Leaf 90)</span>
</code></pre></td>
</tr>
</table>
<p>Generic functions may be seen as an exotic thing in F# that only saves a few key strokes (<code>map</code> instead of <code>List.map</code> or <code>Array.map</code>) still they allow you to reach a higher abstraction level, using ad-hoc polymorphism.</p>
<p>But more interesting is the use of operators. You can't prefix them with the module they belong to, well you can but then it's no longer an operator. As an example many F# libraries define the bind operator <code>(&gt;&gt;=)</code> but it's not generic so if you use two different types which are both monads you will need to prefix it e.g. <code>State.(&gt;&gt;=)</code> and <code>Reader.(&gt;&gt;=)</code> which defeats the purpose of having an operator.</p>
<p>Here you have a ready-to-use generic bind operator: <code>&gt;&gt;=</code></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '18', 49)" onmouseover="showTip(event, '18', 49)" class="id">x</span> <span class="o">=</span> <span class="pn">[</span><span class="s">&quot;hello&quot;</span><span class="pn">;</span><span class="s">&quot; &quot;</span><span class="pn">;</span><span class="s">&quot;world&quot;</span><span class="pn">]</span> <span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, '19', 50)" onmouseover="showTip(event, '19', 50)" class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '20', 51)" onmouseover="showTip(event, '20', 51)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, '21', 52)" onmouseover="showTip(event, '21', 52)" class="id">toList</span> <span onmouseout="hideTip(event, '19', 53)" onmouseover="showTip(event, '19', 53)" class="id">x</span><span class="pn">)</span>
<span class="c">// val x : char list = [&#39;h&#39;; &#39;e&#39;; &#39;l&#39;; &#39;l&#39;; &#39;o&#39;; &#39; &#39;; &#39;w&#39;; &#39;o&#39;; &#39;r&#39;; &#39;l&#39;; &#39;d&#39;]</span>


<span class="k">let</span> <span onmouseout="hideTip(event, '22', 54)" onmouseover="showTip(event, '22', 54)" class="fn">tryParseInt</span> <span class="pn">:</span> <span onmouseout="hideTip(event, '3', 55)" onmouseover="showTip(event, '3', 55)" class="rt">string</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, '23', 56)" onmouseover="showTip(event, '23', 56)" class="vt">int</span> <span onmouseout="hideTip(event, '24', 57)" onmouseover="showTip(event, '24', 57)" class="rt">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, '25', 58)" onmouseover="showTip(event, '25', 58)" class="fn">tryParse</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '26', 59)" onmouseover="showTip(event, '26', 59)" class="fn">tryDivide</span> <span onmouseout="hideTip(event, '27', 60)" onmouseover="showTip(event, '27', 60)" class="id">x</span> <span onmouseout="hideTip(event, '28', 61)" onmouseover="showTip(event, '28', 61)" class="id">n</span> <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, '28', 62)" onmouseover="showTip(event, '28', 62)" class="id">n</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, '29', 63)" onmouseover="showTip(event, '29', 63)" class="uc">None</span> <span class="k">else</span> <span onmouseout="hideTip(event, '4', 64)" onmouseover="showTip(event, '4', 64)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, '27', 65)" onmouseover="showTip(event, '27', 65)" class="id">x</span> <span class="o">/</span> <span onmouseout="hideTip(event, '28', 66)" onmouseover="showTip(event, '28', 66)" class="id">n</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '30', 67)" onmouseover="showTip(event, '30', 67)" class="id">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, '4', 68)" onmouseover="showTip(event, '4', 68)" class="uc">Some</span> <span class="s">&quot;20&quot;</span> <span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, '22', 69)" onmouseover="showTip(event, '22', 69)" class="fn">tryParseInt</span> <span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, '26', 70)" onmouseover="showTip(event, '26', 70)" class="fn">tryDivide</span> <span class="n">100</span>
<span class="c">// val y : int option = Some 5</span>
</code></pre></td>
</tr>
</table>
<p>You have also the Kleisli composition (fish) operator:  <code>&gt;=&gt;</code></p>
<p>Which is becoming popular in F# after the <a href="https://www.google.ch/#q=railway+oriented+programming">Railway Oriented Programming</a> tutorial series</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '31', 71)" onmouseover="showTip(event, '31', 71)" class="fn">parseAndDivide100By</span> <span class="o">=</span> <span onmouseout="hideTip(event, '22', 72)" onmouseover="showTip(event, '22', 72)" class="fn">tryParseInt</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span onmouseout="hideTip(event, '26', 73)" onmouseover="showTip(event, '26', 73)" class="fn">tryDivide</span> <span class="n">100</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '32', 74)" onmouseover="showTip(event, '32', 74)" class="id">parsedAndDivide100By20</span> <span class="o">=</span> <span onmouseout="hideTip(event, '31', 75)" onmouseover="showTip(event, '31', 75)" class="fn">parseAndDivide100By</span> <span class="s">&quot;20&quot;</span>   <span class="c">// Some 5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '33', 76)" onmouseover="showTip(event, '33', 76)" class="id">parsedAndDivide100By0&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, '31', 77)" onmouseover="showTip(event, '31', 77)" class="fn">parseAndDivide100By</span> <span class="s">&quot;zero&quot;</span> <span class="c">// None</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '34', 78)" onmouseover="showTip(event, '34', 78)" class="id">parsedAndDivide100By0</span>  <span class="o">=</span> <span onmouseout="hideTip(event, '31', 79)" onmouseover="showTip(event, '31', 79)" class="fn">parseAndDivide100By</span> <span class="s">&quot;0&quot;</span>    <span class="c">// None</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '35', 80)" onmouseover="showTip(event, '35', 80)" class="fn">parseElement</span> <span onmouseout="hideTip(event, '28', 81)" onmouseover="showTip(event, '28', 81)" class="id">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, '36', 82)" onmouseover="showTip(event, '36', 82)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, '37', 83)" onmouseover="showTip(event, '37', 83)" class="id">tryItem</span> <span onmouseout="hideTip(event, '28', 84)" onmouseover="showTip(event, '28', 84)" class="id">n</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span onmouseout="hideTip(event, '22', 85)" onmouseover="showTip(event, '22', 85)" class="fn">tryParseInt</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '38', 86)" onmouseover="showTip(event, '38', 86)" class="id">parsedElement</span>  <span class="o">=</span> <span onmouseout="hideTip(event, '35', 87)" onmouseover="showTip(event, '35', 87)" class="fn">parseElement</span> <span class="n">2</span> <span class="pn">[</span><span class="s">&quot;0&quot;</span><span class="pn">;</span> <span class="s">&quot;1&quot;</span><span class="pn">;</span><span class="s">&quot;2&quot;</span><span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<p>But don't forget the above used operators are generic, so we can change the type of our functions and we get a different functionality for free:</p>
<p>The test code remains unchanged, but we get a more interesting functionality</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '45', 111)" onmouseover="showTip(event, '45', 111)" class="fn">parseAndDivide100By</span> <span class="o">=</span> <span onmouseout="hideTip(event, '40', 112)" onmouseover="showTip(event, '40', 112)" class="fn">tryParseInt</span> <span class="o">&gt;</span><span class="o">=&gt;</span> <span onmouseout="hideTip(event, '44', 113)" onmouseover="showTip(event, '44', 113)" class="fn">tryDivide</span> <span class="n">100</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '46', 114)" onmouseover="showTip(event, '46', 114)" class="id">parsedAndDivide100By20</span> <span class="o">=</span> <span onmouseout="hideTip(event, '45', 115)" onmouseover="showTip(event, '45', 115)" class="fn">parseAndDivide100By</span> <span class="s">&quot;20&quot;</span>   <span class="c">// Choice1Of2 5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '47', 116)" onmouseover="showTip(event, '47', 116)" class="id">parsedAndDivide100By0&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, '45', 117)" onmouseover="showTip(event, '45', 117)" class="fn">parseAndDivide100By</span> <span class="s">&quot;zero&quot;</span> <span class="c">// Choice2Of2 &quot;Failed to parse zero&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, '48', 118)" onmouseover="showTip(event, '48', 118)" class="id">parsedAndDivide100By0</span>  <span class="o">=</span> <span onmouseout="hideTip(event, '45', 119)" onmouseover="showTip(event, '45', 119)" class="fn">parseAndDivide100By</span> <span class="s">&quot;0&quot;</span>    <span class="c">// Choice2Of2 &quot;Can&#39;t divide by zero&quot;</span>
</code></pre></td>
</tr>
</table>
<p>Also when working with combinators, the generic applicative functor (space invaders) operator is very handy: <code>&lt;*&gt;</code></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '49', 120)" onmouseover="showTip(event, '49', 120)" class="id">sumAllOptions</span> <span class="o">=</span> <span onmouseout="hideTip(event, '4', 121)" onmouseover="showTip(event, '4', 121)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, '4', 122)" onmouseover="showTip(event, '4', 122)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, '4', 123)" onmouseover="showTip(event, '4', 123)" class="uc">Some</span> <span class="n">10</span>     <span class="c">// val sumAllOptions : int option = Some 12</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '50', 124)" onmouseover="showTip(event, '50', 124)" class="id">sumAllElemets</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">10</span><span class="pn">;</span> <span class="n">100</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span> <span class="n">2</span><span class="pn">;</span> <span class="n">3</span><span class="pn">]</span>   <span class="c">// int list = [11; 12; 13; 101; 102; 103]</span>
</code></pre></td>
</tr>
</table>
<p>For more details and features, see <a href="generic-doc.html">generic operators and functions</a></p>
<p>Here are all <a href="reference\fsharpplus-operators.html">generic operators and functions</a></p>
<p>And <a href="applicative-functors.html">here's a short explanation</a> of Functor, Applicative and Monad abstractions with code samples.</p>
<h3><a name="Lens" class="anchor" href="#Lens">Lens</a></h3>
<p>from <a href="https://github.com/ekmett/lens/wiki/Examples">https://github.com/ekmett/lens/wiki/Examples</a></p>
<p>First, open F#+ Lens</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, '1', 125)" onmouseover="showTip(event, '1', 125)" class="id">FSharpPlus</span><span class="pn">.</span><span onmouseout="hideTip(event, '51', 126)" onmouseover="showTip(event, '51', 126)" class="id">Lens</span>
</code></pre></td>
</tr>
</table>
<p>Now, you can read from lenses (<code>_2</code> is a lens for the second component of a tuple)</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '52', 127)" onmouseover="showTip(event, '52', 127)" class="id">r1</span> <span class="o">=</span> <span class="pn">(</span><span class="s">&quot;hello&quot;</span><span class="pn">,</span><span class="s">&quot;world&quot;</span><span class="pn">)</span><span class="o">^.</span><span onmouseout="hideTip(event, '53', 128)" onmouseover="showTip(event, '53', 128)" class="fn">_2</span>
<span class="c">// val it : string = &quot;world&quot;</span>
</code></pre></td>
</tr>
</table>
<p>and you can write to lenses.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '54', 129)" onmouseover="showTip(event, '54', 129)" class="id">r2</span> <span class="o">=</span> <span onmouseout="hideTip(event, '55', 130)" onmouseover="showTip(event, '55', 130)" class="fn">setl</span> <span onmouseout="hideTip(event, '53', 131)" onmouseover="showTip(event, '53', 131)" class="fn">_2</span> <span class="n">42</span> <span class="pn">(</span><span class="s">&quot;hello&quot;</span><span class="pn">,</span><span class="s">&quot;world&quot;</span><span class="pn">)</span>
<span class="c">// val it : string * int = (&quot;hello&quot;, 42)</span>
</code></pre></td>
</tr>
</table>
<p>Composing lenses for reading (or writing) goes in the order an imperative programmer would expect, and just uses <code>(&lt;&lt;)</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '56', 132)" onmouseover="showTip(event, '56', 132)" class="id">r3</span> <span class="o">=</span> <span class="pn">(</span><span class="s">&quot;hello&quot;</span><span class="pn">,</span><span class="pn">(</span><span class="s">&quot;world&quot;</span><span class="pn">,</span><span class="s">&quot;!!!&quot;</span><span class="pn">)</span><span class="pn">)</span><span class="o">^.</span><span class="pn">(</span><span onmouseout="hideTip(event, '53', 133)" onmouseover="showTip(event, '53', 133)" class="fn">_2</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, '57', 134)" onmouseover="showTip(event, '57', 134)" class="fn">_1</span><span class="pn">)</span>
<span class="c">// val it : string = &quot;world&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, '58', 135)" onmouseover="showTip(event, '58', 135)" class="id">r4</span> <span class="o">=</span> <span onmouseout="hideTip(event, '55', 136)" onmouseover="showTip(event, '55', 136)" class="fn">setl</span> <span class="pn">(</span><span onmouseout="hideTip(event, '53', 137)" onmouseover="showTip(event, '53', 137)" class="fn">_2</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, '57', 138)" onmouseover="showTip(event, '57', 138)" class="fn">_1</span><span class="pn">)</span> <span class="n">42</span> <span class="pn">(</span><span class="s">&quot;hello&quot;</span><span class="pn">,</span><span class="pn">(</span><span class="s">&quot;world&quot;</span><span class="pn">,</span><span class="s">&quot;!!!&quot;</span><span class="pn">)</span><span class="pn">)</span>
<span class="c">// val it : string * (int * string) = (&quot;hello&quot;, (42, &quot;!!!&quot;))</span>
</code></pre></td>
</tr>
</table>
<p>You can make a Getter out of a pure function with <code>to'</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '59', 139)" onmouseover="showTip(event, '59', 139)" class="id">r5</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span><span class="o">^.</span><span onmouseout="hideTip(event, '60', 140)" onmouseover="showTip(event, '60', 140)" class="fn">to&#39;</span> <span onmouseout="hideTip(event, '61', 141)" onmouseover="showTip(event, '61', 141)" class="fn">length</span>
<span class="c">// val it : int = 5</span>
</code></pre></td>
</tr>
</table>
<p>You can easily compose a Getter with a Lens just using <code>(&lt;&lt;)</code>. No explicit coercion is necessary.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '62', 142)" onmouseover="showTip(event, '62', 142)" class="id">r6</span> <span class="o">=</span> <span class="pn">(</span><span class="s">&quot;hello&quot;</span><span class="pn">,</span><span class="pn">(</span><span class="s">&quot;world&quot;</span><span class="pn">,</span><span class="s">&quot;!!!&quot;</span><span class="pn">)</span><span class="pn">)</span><span class="o">^.</span> <span class="pn">(</span><span onmouseout="hideTip(event, '53', 143)" onmouseover="showTip(event, '53', 143)" class="fn">_2</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, '53', 144)" onmouseover="showTip(event, '53', 144)" class="fn">_2</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, '60', 145)" onmouseover="showTip(event, '60', 145)" class="fn">to&#39;</span> <span onmouseout="hideTip(event, '61', 146)" onmouseover="showTip(event, '61', 146)" class="fn">length</span><span class="pn">)</span>
<span class="c">// val it : int = 3</span>
</code></pre></td>
</tr>
</table>
<p>As we saw above, you can write to lenses and these writes can change the type of the container. <code>(.-&gt;)</code> is an infix alias for <code>set</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '63', 147)" onmouseover="showTip(event, '63', 147)" class="id">r7</span> <span class="o">=</span> <span onmouseout="hideTip(event, '57', 148)" onmouseover="showTip(event, '57', 148)" class="fn">_1</span> <span class="o">.</span><span class="o">-&gt;</span> <span class="s">&quot;hello&quot;</span> <span class="o">&lt;|</span> <span class="pn">(</span><span class="pn">(</span><span class="pn">)</span><span class="pn">,</span><span class="s">&quot;world&quot;</span><span class="pn">)</span>
<span class="c">// val it : string * string = (&quot;hello&quot;, &quot;world&quot;)</span>
</code></pre></td>
</tr>
</table>
<p>It can be used in conjunction with <code>(|&gt;)</code> for familiar von Neumann style assignment syntax:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '64', 149)" onmouseover="showTip(event, '64', 149)" class="id">r8</span> <span class="o">=</span> <span class="pn">(</span><span class="pn">(</span><span class="pn">)</span><span class="pn">,</span> <span class="s">&quot;world&quot;</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, '57', 150)" onmouseover="showTip(event, '57', 150)" class="fn">_1</span> <span class="o">.</span><span class="o">-&gt;</span> <span class="s">&quot;hello&quot;</span>
<span class="c">// val it : string * string = (&quot;hello&quot;, &quot;world&quot;)</span>
</code></pre></td>
</tr>
</table>
<p>Conversely view, can be used as an prefix alias for <code>(^.)</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, '65', 151)" onmouseover="showTip(event, '65', 151)" class="id">r9</span> <span class="o">=</span> <span onmouseout="hideTip(event, '66', 152)" onmouseover="showTip(event, '66', 152)" class="fn">view</span> <span onmouseout="hideTip(event, '53', 153)" onmouseover="showTip(event, '53', 153)" class="fn">_2</span> <span class="pn">(</span><span class="n">10</span><span class="pn">,</span><span class="n">20</span><span class="pn">)</span>
<span class="c">// val it : int = 20</span>
</code></pre></td>
</tr>
</table>
<p>For more details:</p>
<p>Here's a full tour of <a href="lens.html">lens and all other optics</a></p>
<p>Have a look at all <a href="reference\fsharpplus-lens.html">lens functions</a></p>
</div><div class="span3"><img src="./img/logo-color.svg" alt="F# Project" style="width:150px;margin:10px" /><ul class="nav nav-list" id="menu" style="margin-top:20px"><li class="nav-header">FSharpPlus</li><li><a href="./index.html">Home page</a></li><li class="divider"></li><li><a href="http://nuget.org/packages/FSharpPlus">Get Library via NuGet</a></li><li><a href="https://github.com/fsprojects/FSharpPlus">Source Code on GitHub</a></li><li><a href="./license.html">License</a></li><li><a href="./release-notes.html">Release Notes</a></li><li class="nav-header">Getting started</li><li><a href="./tutorial.html">Tutorial</a></li><li class="nav-header">Documentation</li><li><a href="./reference/index.html">API Reference</a></li><li><a href="./types.html">Types</a></li><li><a href="./abstractions.html">Abstractions</a></li><li><a href="./computation-expressions.html">Computation Expressions</a></li><li><a href="./numerics.html">Numerics</a></li></ul></div></div></div><a href="https://github.com/fsprojects/FSharpPlus"><img style="position:absolute;top:0;right:0;border:0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" /></a></body></html>